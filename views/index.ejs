<% layout( 'layout' ) -%>

<h1>welcome</h1>
<ul id="messages"></ul>

<form class="form-inline" >
  <div class="form-group">
    <label for="user">User Name</label>
    <input type="text" class="form-control" autocomplete="off" id="user" placeholder="Hellen">
  </div>
  <div class="form-group">
    <label for="m">Message</label>
    <input type="text" autocomplete="off" class="form-control" id="m" placeholder="key some word">
  </div>
  <button type="submit" class="btn btn-primary">Submit</button>
</form>
<script>
  var socket = io();
  $('form').submit(function(){
    socket.emit('chat message', $('#user').val()+' : '+$('#m').val());
    $('#m').val('');
    return false;
  });
  socket.on('chat message', function(msg){
    $('#messages').append($('<li>').text(msg));
  });
</script>